<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Traceform DevTools Panel</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="traceform-dark">
  <div class="traceform-root">
    <!-- Sidebar -->
    <nav class="traceform-sidebar" aria-label="Main navigation">
      <div class="traceform-sidebar-header">
        <span class="traceform-logo" title="Traceform">ğŸ§­</span>
        <span class="traceform-title">Traceform</span>
      </div>
      <ul class="traceform-nav-list">
        <li class="traceform-nav-item traceform-nav-item-active" tabindex="0" aria-selected="true">
          <span class="traceform-nav-icon">ğŸ”—</span>
          <span class="traceform-nav-label">Mapping</span>
        </li>
        <li class="traceform-nav-item" tabindex="0">
          <span class="traceform-nav-icon">ğŸ“</span>
          <span class="traceform-nav-label">Logs</span>
        </li>
        <li class="traceform-nav-item" tabindex="0">
          <span class="traceform-nav-icon">âš™ï¸</span>
          <span class="traceform-nav-label">Settings</span>
        </li>
      </ul>
    </nav>
    <!-- Main Content Area -->
    <div class="traceform-main">
      <!-- Toolbar -->
      <header class="traceform-toolbar" role="toolbar">
        <button id="refreshTargetBtn" class="traceform-toolbar-btn" title="Refresh Target Tab" aria-label="Refresh Target Tab">âŸ³</button>
        <span class="traceform-toolbar-divider"></span>
        <span class="traceform-toolbar-status">
          <span id="bridgeStatus" class="status-disconnected">Disconnected</span>
          <span id="serverStatus">Idle</span>
        </span>
      </header>
      <!-- Main Panel -->
      <main class="traceform-panel" tabindex="0">
        <section class="traceform-section">
          <label for="targetUrl">Target Dev Server URL:</label>
          <input type="text" id="targetUrl" size="30" placeholder="e.g., http://localhost:5173" autocomplete="off">
          <button id="setTargetBtn">Set & Monitor</button>
        </section>
        <section class="traceform-section">
          <div>Current Target: <span id="currentTarget">None</span></div>
        </section>
        <section id="errorSection" class="traceform-section" style="display: none;">
          <span id="errorMessage" class="traceform-error-message"></span>
          <span id="connectionError" class="traceform-error-message" style="display: none;">Connection lost. Please restart the Traceform server in VS Code.</span>
        </section>
        <section class="traceform-section">
          <h4>Messages:</h4>
          <div id="messages" class="traceform-console">Waiting for status updates...</div>
        </section>
      </main>
      <!-- Footer / Console -->
      <footer class="traceform-footer" role="contentinfo">
        <span class="traceform-footer-text">Traceform DevTools &copy; 2025</span>
      </footer>
    </div>
  </div>
  <script src="panel.js"></script>
</body>
</html>
